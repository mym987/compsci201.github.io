<html>
<head>
<title>HuffViewer.java</title>
</head>
<body>
Link to code: <a href="../src/HuffViewer.java">HuffViewer.java</a><br>
<hr>
<!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<font color="#717ab3">/**</font>
<font color="#717ab3"> *	GUI code for Huffman</font>
<font color="#717ab3"> *</font>
<font color="#717ab3"> *	</font><b><font color="#7f0055">@author</font></b><font color="#717ab3"> Brian Lavallee</font>
<font color="#717ab3"> *	</font><b><font color="#7f0055">@since</font></b><font color="#717ab3"> 16 November 2015</font>
<font color="#717ab3"> */</font>

<font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">io</font><font color="#000000">.</font><font color="#000000">File</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">util</font><font color="#000000">.</font><font color="#000000">ArrayList</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">util</font><font color="#000000">.</font><font color="#000000">HashMap</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">util</font><font color="#000000">.</font><font color="#000000">List</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">util</font><font color="#000000">.</font><font color="#000000">Map</font><font color="#000000">;</font>

<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">animation</font><font color="#000000">.</font><font color="#000000">AnimationTimer</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">animation</font><font color="#000000">.</font><font color="#000000">FadeTransition</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">application</font><font color="#000000">.</font><font color="#000000">Platform</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">geometry</font><font color="#000000">.</font><font color="#000000">Pos</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">Group</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">Node</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">control</font><font color="#000000">.</font><font color="#000000">Button</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">control</font><font color="#000000">.</font><font color="#000000">CheckBox</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">control</font><font color="#000000">.</font><font color="#000000">ScrollPane</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">control</font><font color="#000000">.</font><font color="#000000">Tab</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">control</font><font color="#000000">.</font><font color="#000000">TabPane</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">control</font><font color="#000000">.</font><font color="#000000">TabPane</font><font color="#000000">.</font><font color="#000000">TabClosingPolicy</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">layout</font><font color="#000000">.</font><font color="#000000">HBox</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">layout</font><font color="#000000">.</font><font color="#000000">VBox</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">paint</font><font color="#000000">.</font><font color="#000000">Color</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">shape</font><font color="#000000">.</font><font color="#000000">Rectangle</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">scene</font><font color="#000000">.</font><font color="#000000">text</font><font color="#000000">.</font><font color="#000000">Text</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">stage</font><font color="#000000">.</font><font color="#000000">DirectoryChooser</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">stage</font><font color="#000000">.</font><font color="#000000">FileChooser</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">stage</font><font color="#000000">.</font><font color="#000000">Stage</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> javafx</font><font color="#000000">.</font><font color="#000000">util</font><font color="#000000">.</font><font color="#000000">Duration</font><font color="#000000">;</font>

<b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">class</font></b><font color="#000000"> </font><font color="#000000">HuffViewer</font><font color="#000000"> </font><font color="#000000">{</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> TAB_HEIGHT </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">23</font><font color="#000000">;</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> TAB_PADDING </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">70</font><font color="#000000">;</font>
<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> INTERNAL_PADDING </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">7</font><font color="#000000">;</font>
<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> MARGIN </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">10</font><font color="#000000">;</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> processor</font><font color="#000000">;</font>

<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">HuffViewer</font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000"> processor</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">processor </font><font color="#000000">=</font><font color="#000000"> processor</font><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">Group</font><font color="#000000"> </font><font color="#000000">createLayout</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> width</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> height</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><font color="#000000">Group</font><font color="#000000"> root </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Group</font><font color="#000000">();</font>

<font color="#000000">		</font><font color="#000000">TabPane</font><font color="#000000"> holder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">TabPane</font><font color="#000000">();</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">setTabClosingPolicy</font><font color="#000000">(</font><font color="#000000">TabClosingPolicy</font><font color="#000000">.</font><font color="#000000">UNAVAILABLE</font><font color="#000000">);</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">width</font><font color="#000000">,</font><font color="#000000"> height</font><font color="#000000">);</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">setTabMinWidth</font><font color="#000000">((</font><font color="#000000">width </font><font color="#000000">-</font><font color="#000000"> TAB_PADDING</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">4.0</font><font color="#000000">);</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">setTabMinHeight</font><font color="#000000">(</font><font color="#000000">TAB_HEIGHT</font><font color="#000000">);</font>

<font color="#000000">		</font><b><font color="#7f0055">double</font></b><font color="#000000"> contentWidth </font><font color="#000000">=</font><font color="#000000"> width </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> MARGIN</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">double</font></b><font color="#000000"> contentHeight </font><font color="#000000">=</font><font color="#000000"> height </font><font color="#000000">-</font><font color="#000000"> TAB_HEIGHT </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> MARGIN</font><font color="#000000">;</font>

<font color="#000000">		</font><font color="#000000">Tab</font><font color="#000000"> compress </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Tab</font><font color="#000000">(</font><font color="#0000ff">"Compress"</font><font color="#000000">);</font>
<font color="#000000">		compress</font><font color="#000000">.</font><font color="#000000">setContent</font><font color="#000000">(</font><font color="#000000">createCompressTab</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight</font><font color="#000000">));</font>

<font color="#000000">		</font><font color="#000000">Tab</font><font color="#000000"> decompress </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Tab</font><font color="#000000">(</font><font color="#0000ff">"Decompress"</font><font color="#000000">);</font>
<font color="#000000">		decompress</font><font color="#000000">.</font><font color="#000000">setContent</font><font color="#000000">(</font><font color="#000000">createDecompressTab</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight</font><font color="#000000">));</font>

<font color="#000000">		</font><font color="#000000">Tab</font><font color="#000000"> compare </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Tab</font><font color="#000000">(</font><font color="#0000ff">"Compare"</font><font color="#000000">);</font>
<font color="#000000">		compare</font><font color="#000000">.</font><font color="#000000">setContent</font><font color="#000000">(</font><font color="#000000">createCompareTab</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight</font><font color="#000000">));</font>

<font color="#000000">		</font><font color="#000000">Tab</font><font color="#000000"> test </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Tab</font><font color="#000000">(</font><font color="#0000ff">"Test"</font><font color="#000000">);</font>
<font color="#000000">		test</font><font color="#000000">.</font><font color="#000000">setContent</font><font color="#000000">(</font><font color="#000000">createTestTab</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight</font><font color="#000000">));</font>

<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">getTabs</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">compress</font><font color="#000000">,</font><font color="#000000"> decompress</font><font color="#000000">,</font><font color="#000000"> compare</font><font color="#000000">,</font><font color="#000000"> test</font><font color="#000000">);</font>
<font color="#000000">		root</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><font color="#000000">holder</font><font color="#000000">);</font>
<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> root</font><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000"> </font><font color="#000000">createCompressTab</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> contentWidth</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> contentHeight</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> tabContent </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setTranslateX</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setTranslateY</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">HBox</font><font color="#000000"> upper </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HBox</font><font color="#000000">();</font>
<font color="#000000">		upper</font><font color="#000000">.</font><font color="#000000">setMinHeight</font><font color="#000000">(</font><font color="#000000">80</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">HuffPanel</font><font color="#000000"> panel </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">150</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">StatusBar</font><font color="#000000"> status </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000">(</font><font color="#000000">contentWidth </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">200</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> inputField </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">INTERNAL_PADDING</font><font color="#000000">);</font>
<font color="#000000">		inputField</font><font color="#000000">.</font><font color="#000000">setMinWidth</font><font color="#000000">(</font><font color="#000000">200</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">HuffChooser</font><font color="#000000"> chooser </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HuffChooser</font><font color="#000000">(</font><b><font color="#7f0055">true</font></b><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"Compress"</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">Button</font><font color="#000000"> compress </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Button</font><font color="#000000">(</font><font color="#0000ff">"Compress"</font><font color="#000000">);</font>
<font color="#000000">		compress</font><font color="#000000">.</font><font color="#000000">setOnAction</font><font color="#000000">((</font><font color="#000000">clicked</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">compress</font><font color="#000000">(</font><font color="#000000">chooser</font><font color="#000000">.</font><font color="#000000">getChosenFile</font><font color="#000000">(),</font><font color="#000000"> status</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">));</font>
<font color="#000000">		inputField</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">chooser</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">(),</font><font color="#000000"> compress</font><font color="#000000">);</font>

<font color="#000000">		upper</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">inputField</font><font color="#000000">,</font><font color="#000000"> status</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">());</font>

<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">upper</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> String</font><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> </font><font color="#0000ff">"Info"</font><font color="#000000"> </font><font color="#000000">}</font><font color="#000000">));</font>
<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> tabContent</font><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000"> </font><font color="#000000">createDecompressTab</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> contentWidth</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> contentHeight</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> tabContent </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setTranslateX</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setTranslateY</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">HBox</font><font color="#000000"> upper </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HBox</font><font color="#000000">();</font>
<font color="#000000">		upper</font><font color="#000000">.</font><font color="#000000">setMinHeight</font><font color="#000000">(</font><font color="#000000">80</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">HuffPanel</font><font color="#000000"> panel </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">150</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">StatusBar</font><font color="#000000"> status </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000">(</font><font color="#000000">contentWidth </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">200</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> inputField </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">INTERNAL_PADDING</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">HuffChooser</font><font color="#000000"> chooser </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HuffChooser</font><font color="#000000">(</font><b><font color="#7f0055">true</font></b><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"Decompress"</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">Button</font><font color="#000000"> decompress </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Button</font><font color="#000000">(</font><font color="#0000ff">"Decompress"</font><font color="#000000">);</font>
<font color="#000000">		decompress</font><font color="#000000">.</font><font color="#000000">setOnAction</font><font color="#000000">((</font><font color="#000000">clicked</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">decompress</font><font color="#000000">(</font><font color="#000000">chooser</font><font color="#000000">.</font><font color="#000000">getChosenFile</font><font color="#000000">(),</font><font color="#000000"> status</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">));</font>
<font color="#000000">		inputField</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">chooser</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">(),</font><font color="#000000"> decompress</font><font color="#000000">);</font>

<font color="#000000">		upper</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">inputField</font><font color="#000000">,</font><font color="#000000"> status</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">());</font>

<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">upper</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> String</font><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> </font><font color="#0000ff">"Info"</font><font color="#000000"> </font><font color="#000000">}</font><font color="#000000">));</font>
<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> tabContent</font><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000"> </font><font color="#000000">createCompareTab</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> contentWidth</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> contentHeight</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> tabContent </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setTranslateX</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setTranslateY</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">HBox</font><font color="#000000"> upper </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HBox</font><font color="#000000">();</font>
<font color="#000000">		upper</font><font color="#000000">.</font><font color="#000000">setMinHeight</font><font color="#000000">(</font><font color="#000000">80</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">HuffPanel</font><font color="#000000"> panel </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">150</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">StatusBar</font><font color="#000000"> status </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000">(</font><font color="#000000">contentWidth </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">200</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> inputField </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">INTERNAL_PADDING</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">HuffChooser</font><font color="#000000"> chooserA </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HuffChooser</font><font color="#000000">(</font><b><font color="#7f0055">true</font></b><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"File A"</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">HuffChooser</font><font color="#000000"> chooserB </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HuffChooser</font><font color="#000000">(</font><b><font color="#7f0055">true</font></b><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"File B"</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">Button</font><font color="#000000"> compare </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Button</font><font color="#000000">(</font><font color="#0000ff">"Compare"</font><font color="#000000">);</font>
<font color="#000000">		compare</font><font color="#000000">.</font><font color="#000000">setOnAction</font><font color="#000000">((</font><font color="#000000">clicked</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">compare</font><font color="#000000">(</font><font color="#000000">chooserA</font><font color="#000000">.</font><font color="#000000">getChosenFile</font><font color="#000000">(),</font><font color="#000000"> chooserB</font><font color="#000000">.</font><font color="#000000">getChosenFile</font><font color="#000000">(),</font><font color="#000000"> status</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">));</font>
<font color="#000000">		inputField</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">chooserA</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">(),</font><font color="#000000"> chooserB</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">(),</font><font color="#000000"> compare</font><font color="#000000">);</font>

<font color="#000000">		upper</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">inputField</font><font color="#000000">,</font><font color="#000000"> status</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">());</font>

<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">upper</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> String</font><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> </font><font color="#0000ff">"Info"</font><font color="#000000"> </font><font color="#000000">}</font><font color="#000000">));</font>
<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> tabContent</font><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000"> </font><font color="#000000">createTestTab</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> contentWidth</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> contentHeight</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> tabContent </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setTranslateX</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>
<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">setTranslateY</font><font color="#000000">(</font><font color="#000000">MARGIN</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">HBox</font><font color="#000000"> upper </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HBox</font><font color="#000000">();</font>
<font color="#000000">		upper</font><font color="#000000">.</font><font color="#000000">setMinHeight</font><font color="#000000">(</font><font color="#000000">80</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">HuffPanel</font><font color="#000000"> panel </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000">(</font><font color="#000000">contentWidth</font><font color="#000000">,</font><font color="#000000"> contentHeight </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">150</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">StatusBar</font><font color="#000000"> status </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000">(</font><font color="#000000">contentWidth </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">200</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> inputField </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">INTERNAL_PADDING</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">HuffChooser</font><font color="#000000"> chooser </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HuffChooser</font><font color="#000000">(</font><b><font color="#7f0055">false</font></b><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"Directory"</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">CheckBox</font><font color="#000000"> hf </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">CheckBox</font><font color="#000000">(</font><font color="#0000ff">"test .hf files"</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">Button</font><font color="#000000"> test </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Button</font><font color="#000000">(</font><font color="#0000ff">"Test"</font><font color="#000000">);</font>
<font color="#000000">		test</font><font color="#000000">.</font><font color="#000000">setOnAction</font><font color="#000000">((</font><font color="#000000">clicked</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">test</font><font color="#000000">(</font><font color="#000000">chooser</font><font color="#000000">.</font><font color="#000000">getChosenFile</font><font color="#000000">(),</font><font color="#000000"> hf</font><font color="#000000">.</font><font color="#000000">isSelected</font><font color="#000000">(),</font><font color="#000000"> status</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">));</font>
<font color="#000000">		inputField</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">chooser</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">(),</font><font color="#000000"> hf</font><font color="#000000">,</font><font color="#000000"> test</font><font color="#000000">);</font>

<font color="#000000">		upper</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">inputField</font><font color="#000000">,</font><font color="#000000"> status</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">());</font>

<font color="#000000">		tabContent</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">upper</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">.</font><font color="#000000">render</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> String</font><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> </font><font color="#0000ff">"Info"</font><font color="#000000"> </font><font color="#000000">}</font><font color="#000000">));</font>
<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> tabContent</font><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000"> </font><font color="#000000">getInfo</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000">[]</font><font color="#000000"> times</font><font color="#000000">,</font><font color="#000000"> File</font><font color="#000000">[]</font><font color="#000000"> originalFiles</font><font color="#000000">,</font><font color="#000000"> File</font><font color="#000000">[]</font><font color="#000000"> newFiles</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> holder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">INTERNAL_PADDING</font><font color="#000000">);</font>

<font color="#000000">		</font><b><font color="#7f0055">int</font></b><font color="#000000"> totalOriginalLength </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">double</font></b><font color="#000000"> totalTime </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">int</font></b><font color="#000000"> totalNewLength </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><b><font color="#7f0055">int</font></b><font color="#000000"> i </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font><font color="#000000"> i </font><font color="#000000">&lt;</font><font color="#000000"> times</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">;</font><font color="#000000"> i</font><font color="#000000">++)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			totalOriginalLength </font><font color="#000000">+=</font><font color="#000000"> originalFiles</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">].</font><font color="#000000">length</font><font color="#000000">();</font>
<font color="#000000">			totalTime </font><font color="#000000">+=</font><font color="#000000"> times</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">];</font>
<font color="#000000">			totalNewLength </font><font color="#000000">+=</font><font color="#000000"> newFiles</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">].</font><font color="#000000">length</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">double</font></b><font color="#000000"> percentSaved </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">1.0</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">((</font><b><font color="#7f0055">double</font></b><font color="#000000">)</font><font color="#000000"> totalNewLength</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">((</font><b><font color="#7f0055">double</font></b><font color="#000000">)</font><font color="#000000"> totalOriginalLength</font><font color="#000000">);</font>
<font color="#000000">		percentSaved </font><font color="#000000">*=</font><font color="#000000"> </font><font color="#000000">100.0</font><font color="#000000">;</font>

<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">(</font><font color="#0000ff">"Total time: "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> totalTime </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">1000.0</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">"s"</font><font color="#000000">));</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">(</font><font color="#0000ff">"Total original length: "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> totalOriginalLength </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">" bytes"</font><font color="#000000">));</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">(</font><font color="#0000ff">"Total new length: "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> totalNewLength </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">" bytes"</font><font color="#000000">));</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000">.</font><font color="#000000">format</font><font color="#000000">(</font><font color="#0000ff">"Percent space saved: %.2f"</font><font color="#000000">,</font><font color="#000000"> percentSaved</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">"%"</font><font color="#000000">));</font>

<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> holder</font><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">class</font></b><font color="#000000"> </font><font color="#000000">ProgressUpdater</font><font color="#000000"> </font><b><font color="#7f0055">extends</font></b><font color="#000000"> AnimationTimer </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">Generator</font><font color="#000000"> generator</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000"> status</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000"> panel</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> progress</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">ProgressUpdater</font><font color="#000000">(</font><font color="#000000">StatusBar</font><font color="#000000"> status</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000"> panel</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">status </font><font color="#000000">=</font><font color="#000000"> status</font><font color="#000000">;</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">panel </font><font color="#000000">=</font><font color="#000000"> panel</font><font color="#000000">;</font>
<font color="#000000">			generator </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><b><font color="#7f0055">return</font></b><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">handle</font><font color="#000000">(</font><b><font color="#7f0055">long</font></b><font color="#000000"> time</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			status</font><font color="#000000">.</font><font color="#000000">setProgress</font><font color="#000000">(</font><font color="#000000">generator</font><font color="#000000">.</font><font color="#000000">generate</font><font color="#000000">());</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">setGenerator</font><font color="#000000">(</font><font color="#000000">Generator</font><font color="#000000"> generator</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">generator </font><font color="#000000">=</font><font color="#000000"> generator</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000"> s</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> message</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			Platform</font><font color="#000000">.</font><font color="#000000">runLater</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				status</font><font color="#000000">.</font><font color="#000000">setStatus</font><font color="#000000">(</font><font color="#000000">s</font><font color="#000000">,</font><font color="#000000"> message</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">addContent</font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000"> label</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">Node</font><font color="#000000"> content</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			Platform</font><font color="#000000">.</font><font color="#000000">runLater</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				panel</font><font color="#000000">.</font><font color="#000000">addContent</font><font color="#000000">(</font><font color="#000000">label</font><font color="#000000">,</font><font color="#000000"> content</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> </font><font color="#000000">progress</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> progress</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">setProgress</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> progress</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">progress </font><font color="#000000">=</font><font color="#000000"> progress</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">interface</font></b><font color="#000000"> </font><font color="#000000">Generator</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> </font><font color="#000000">generate</font><font color="#000000">();</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">Processor</font><font color="#000000"> </font><font color="#000000">getProcessor</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">try</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Processor</font><font color="#000000">)</font><font color="#000000"> Class</font><font color="#000000">.</font><font color="#000000">forName</font><font color="#000000">(</font><font color="#000000">processor</font><font color="#000000">).</font><font color="#000000">newInstance</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Exception</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			e</font><font color="#000000">.</font><font color="#000000">printStackTrace</font><font color="#000000">();</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">compress</font><font color="#000000">(</font><font color="#000000">File</font><font color="#000000"> original</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000"> status</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000"> panel</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">original </font><font color="#000000">==</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		status</font><font color="#000000">.</font><font color="#000000">initialize</font><font color="#000000">();</font>
<font color="#000000">		panel</font><font color="#000000">.</font><font color="#000000">clear</font><font color="#000000">();</font>

<font color="#000000">		</font><font color="#000000">File</font><font color="#000000"> compressed </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">File</font><font color="#000000">(</font><font color="#000000">original</font><font color="#000000">.</font><font color="#000000">getPath</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">".hf"</font><font color="#000000">);</font>

<font color="#000000">		</font><b><font color="#7f0055">try</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><font color="#000000">BitInputStream</font><font color="#000000"> in </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">BitInputStream</font><font color="#000000">(</font><font color="#000000">original</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">BitOutputStream</font><font color="#000000"> out </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">BitOutputStream</font><font color="#000000">(</font><font color="#000000">compressed</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">ProgressUpdater</font><font color="#000000"> updater </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">ProgressUpdater</font><font color="#000000">(</font><font color="#000000">status</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">Thread</font><font color="#000000"> thread </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Thread</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Working</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"compressing "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> original</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">());</font>
<font color="#000000">				updater</font><font color="#000000">.</font><font color="#000000">start</font><font color="#000000">();</font>
<font color="#000000">				updater</font><font color="#000000">.</font><font color="#000000">setGenerator</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					</font><b><font color="#7f0055">return</font></b><font color="#000000"> in</font><font color="#000000">.</font><font color="#000000">getBitsRead</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">8.0</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> original</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">());</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000">);</font>

<font color="#000000">				</font><b><font color="#7f0055">try</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					</font><font color="#000000">Processor</font><font color="#000000"> processor </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">getProcessor</font><font color="#000000">();</font>
<font color="#000000">					</font><b><font color="#7f0055">double</font></b><font color="#000000"> start </font><font color="#000000">=</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">currentTimeMillis</font><font color="#000000">();</font>
<font color="#000000">					processor</font><font color="#000000">.</font><font color="#000000">compress</font><font color="#000000">(</font><font color="#000000">in</font><font color="#000000">,</font><font color="#000000"> out</font><font color="#000000">);</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">addContent</font><font color="#000000">(</font><font color="#0000ff">"Info"</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">getInfo</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">currentTimeMillis</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> start </font><font color="#000000">}</font><font color="#000000">,</font>
<font color="#000000">							</font><b><font color="#7f0055">new</font></b><font color="#000000"> File</font><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> original </font><font color="#000000">}</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> File</font><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> compressed </font><font color="#000000">}</font><font color="#000000">));</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">stop</font><font color="#000000">();</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Complete</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"compression successful"</font><font color="#000000">);</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">HuffException</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					compressed</font><font color="#000000">.</font><font color="#000000">delete</font><font color="#000000">();</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">stop</font><font color="#000000">();</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Failed</font><font color="#000000">,</font><font color="#000000"> e</font><font color="#000000">.</font><font color="#000000">getMessage</font><font color="#000000">());</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Exception</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					compressed</font><font color="#000000">.</font><font color="#000000">delete</font><font color="#000000">();</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">stop</font><font color="#000000">();</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Failed</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"unknown error"</font><font color="#000000">);</font>
<font color="#000000">					e</font><font color="#000000">.</font><font color="#000000">printStackTrace</font><font color="#000000">();</font>
<font color="#000000">				</font><font color="#000000">}</font>

<font color="#000000">				out</font><font color="#000000">.</font><font color="#000000">close</font><font color="#000000">();</font>
<font color="#000000">				in</font><font color="#000000">.</font><font color="#000000">close</font><font color="#000000">();</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">			thread</font><font color="#000000">.</font><font color="#000000">start</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Exception</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			e</font><font color="#000000">.</font><font color="#000000">printStackTrace</font><font color="#000000">();</font>
<font color="#000000">			compressed</font><font color="#000000">.</font><font color="#000000">delete</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">decompress</font><font color="#000000">(</font><font color="#000000">File</font><font color="#000000"> original</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000"> status</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000"> panel</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">original </font><font color="#000000">==</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		status</font><font color="#000000">.</font><font color="#000000">initialize</font><font color="#000000">();</font>
<font color="#000000">		panel</font><font color="#000000">.</font><font color="#000000">clear</font><font color="#000000">();</font>

<font color="#000000">		</font><font color="#000000">String</font><font color="#000000"> name </font><font color="#000000">=</font><font color="#000000"> original</font><font color="#000000">.</font><font color="#000000">getPath</font><font color="#000000">();</font>
<font color="#000000">		name </font><font color="#000000">=</font><font color="#000000"> name</font><font color="#000000">.</font><font color="#000000">endsWith</font><font color="#000000">(</font><font color="#0000ff">".hf"</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">?</font><font color="#000000"> name</font><font color="#000000">.</font><font color="#000000">substring</font><font color="#000000">(</font><font color="#000000">0</font><font color="#000000">,</font><font color="#000000"> name</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">3</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">:</font><font color="#000000"> name</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">File</font><font color="#000000"> decompressed </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">File</font><font color="#000000">(</font><font color="#000000">name </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">".dehf"</font><font color="#000000">);</font>

<font color="#000000">		</font><b><font color="#7f0055">try</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><font color="#000000">BitInputStream</font><font color="#000000"> in </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">BitInputStream</font><font color="#000000">(</font><font color="#000000">original</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">BitOutputStream</font><font color="#000000"> out </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">BitOutputStream</font><font color="#000000">(</font><font color="#000000">decompressed</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">ProgressUpdater</font><font color="#000000"> updater </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">ProgressUpdater</font><font color="#000000">(</font><font color="#000000">status</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">Thread</font><font color="#000000"> thread </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Thread</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				updater</font><font color="#000000">.</font><font color="#000000">setGenerator</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					</font><b><font color="#7f0055">return</font></b><font color="#000000"> in</font><font color="#000000">.</font><font color="#000000">getBitsRead</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">8.0</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> original</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">());</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">				updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Working</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"decompressing "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> original</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">());</font>
<font color="#000000">				updater</font><font color="#000000">.</font><font color="#000000">start</font><font color="#000000">();</font>

<font color="#000000">				</font><b><font color="#7f0055">try</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					</font><font color="#000000">Processor</font><font color="#000000"> processor </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">getProcessor</font><font color="#000000">();</font>
<font color="#000000">					</font><b><font color="#7f0055">double</font></b><font color="#000000"> start </font><font color="#000000">=</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">currentTimeMillis</font><font color="#000000">();</font>
<font color="#000000">					processor</font><font color="#000000">.</font><font color="#000000">decompress</font><font color="#000000">(</font><font color="#000000">in</font><font color="#000000">,</font><font color="#000000"> out</font><font color="#000000">);</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">addContent</font><font color="#000000">(</font><font color="#0000ff">"Info"</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">getInfo</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">currentTimeMillis</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> start </font><font color="#000000">}</font><font color="#000000">,</font>
<font color="#000000">							</font><b><font color="#7f0055">new</font></b><font color="#000000"> File</font><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> original </font><font color="#000000">}</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> File</font><font color="#000000">[]</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> decompressed </font><font color="#000000">}</font><font color="#000000">));</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">stop</font><font color="#000000">();</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Complete</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"decompression successful"</font><font color="#000000">);</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">HuffException</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					decompressed</font><font color="#000000">.</font><font color="#000000">delete</font><font color="#000000">();</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">stop</font><font color="#000000">();</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Failed</font><font color="#000000">,</font><font color="#000000"> e</font><font color="#000000">.</font><font color="#000000">getMessage</font><font color="#000000">());</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Exception</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">stop</font><font color="#000000">();</font>
<font color="#000000">					e</font><font color="#000000">.</font><font color="#000000">printStackTrace</font><font color="#000000">();</font>
<font color="#000000">					decompressed</font><font color="#000000">.</font><font color="#000000">delete</font><font color="#000000">();</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Failed</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"unknown error"</font><font color="#000000">);</font>
<font color="#000000">				</font><font color="#000000">}</font>

<font color="#000000">				in</font><font color="#000000">.</font><font color="#000000">close</font><font color="#000000">();</font>
<font color="#000000">				out</font><font color="#000000">.</font><font color="#000000">close</font><font color="#000000">();</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">			thread</font><font color="#000000">.</font><font color="#000000">start</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Exception</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			e</font><font color="#000000">.</font><font color="#000000">printStackTrace</font><font color="#000000">();</font>
<font color="#000000">			decompressed</font><font color="#000000">.</font><font color="#000000">delete</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">compare</font><font color="#000000">(</font><font color="#000000">File</font><font color="#000000"> fileA</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">File</font><font color="#000000"> fileB</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000"> status</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000"> panel</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">fileA </font><font color="#000000">==</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000"> </font><font color="#000000">||</font><font color="#000000"> fileB </font><font color="#000000">==</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		status</font><font color="#000000">.</font><font color="#000000">initialize</font><font color="#000000">();</font>

<font color="#000000">		</font><font color="#000000">BitInputStream</font><font color="#000000"> inA </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">BitInputStream</font><font color="#000000">(</font><font color="#000000">fileA</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">BitInputStream</font><font color="#000000"> inB </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">BitInputStream</font><font color="#000000">(</font><font color="#000000">fileB</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">ProgressUpdater</font><font color="#000000"> updater </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">ProgressUpdater</font><font color="#000000">(</font><font color="#000000">status</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">);</font>

<font color="#000000">		</font><font color="#000000">Thread</font><font color="#000000"> thread </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Thread</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			updater</font><font color="#000000">.</font><font color="#000000">setGenerator</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><b><font color="#7f0055">return</font></b><font color="#000000"> inA</font><font color="#000000">.</font><font color="#000000">getBitsRead</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">8.0</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> fileA</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">());</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">			updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Working</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"comparing "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> fileA</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">" and "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> fileB</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">());</font>
<font color="#000000">			updater</font><font color="#000000">.</font><font color="#000000">start</font><font color="#000000">();</font>

<font color="#000000">			</font><b><font color="#7f0055">try</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				inA</font><font color="#000000">.</font><font color="#000000">reset</font><font color="#000000">();</font>
<font color="#000000">				</font><b><font color="#7f0055">int</font></b><font color="#000000"> bitA </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font>
<font color="#000000">				</font><b><font color="#7f0055">int</font></b><font color="#000000"> bitB </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font>
<font color="#000000">				</font><b><font color="#7f0055">double</font></b><font color="#000000"> start </font><font color="#000000">=</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">currentTimeMillis</font><font color="#000000">();</font>
<font color="#000000">				</font><b><font color="#7f0055">int</font></b><font color="#000000"> count </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font>
<font color="#000000">				</font><b><font color="#7f0055">while</font></b><font color="#000000"> </font><font color="#000000">((</font><font color="#000000">bitA </font><font color="#000000">=</font><font color="#000000"> inA</font><font color="#000000">.</font><font color="#000000">readBits</font><font color="#000000">(</font><font color="#000000">1</font><font color="#000000">))</font><font color="#000000"> </font><font color="#000000">!=</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000">1</font><font color="#000000"> </font><font color="#000000">&amp;</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">bitB </font><font color="#000000">=</font><font color="#000000"> inB</font><font color="#000000">.</font><font color="#000000">readBits</font><font color="#000000">(</font><font color="#000000">1</font><font color="#000000">))</font><font color="#000000"> </font><font color="#000000">!=</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000">1</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">bitA </font><font color="#000000">!=</font><font color="#000000"> bitB</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">						updater</font><font color="#000000">.</font><font color="#000000">stop</font><font color="#000000">();</font>
<font color="#000000">						updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Failed</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"files differ somewhere"</font><font color="#000000">);</font>
<font color="#000000">						inA</font><font color="#000000">.</font><font color="#000000">close</font><font color="#000000">();</font>
<font color="#000000">						inB</font><font color="#000000">.</font><font color="#000000">close</font><font color="#000000">();</font>
<font color="#000000">						updater</font><font color="#000000">.</font><font color="#000000">addContent</font><font color="#000000">(</font><font color="#0000ff">"Info"</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">getSimpleInfo</font><font color="#000000">(</font><font color="#000000">System</font><font color="#000000">.</font><font color="#000000">currentTimeMillis</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> start</font><font color="#000000">,</font><font color="#000000"> fileA</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">(),</font>
<font color="#000000">								fileB</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">(),</font><font color="#000000"> count</font><font color="#000000">));</font>
<font color="#000000">						</font><b><font color="#7f0055">return</font></b><font color="#000000">;</font>
<font color="#000000">					</font><font color="#000000">}</font>
<font color="#000000">					count</font><font color="#000000">++;</font>
<font color="#000000">				</font><font color="#000000">}</font>
<font color="#000000">				updater</font><font color="#000000">.</font><font color="#000000">addContent</font><font color="#000000">(</font><font color="#0000ff">"Info"</font><font color="#000000">,</font>
<font color="#000000">						</font><font color="#000000">getSimpleInfo</font><font color="#000000">(</font><font color="#000000">System</font><font color="#000000">.</font><font color="#000000">currentTimeMillis</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> start</font><font color="#000000">,</font><font color="#000000"> fileA</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">(),</font><font color="#000000"> fileB</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">(),</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000">1</font><font color="#000000">));</font>
<font color="#000000">				updater</font><font color="#000000">.</font><font color="#000000">stop</font><font color="#000000">();</font>
<font color="#000000">				inA</font><font color="#000000">.</font><font color="#000000">close</font><font color="#000000">();</font>
<font color="#000000">				inB</font><font color="#000000">.</font><font color="#000000">close</font><font color="#000000">();</font>
<font color="#000000">				</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">bitA </font><font color="#000000">==</font><font color="#000000"> bitB</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Complete</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"files are the same"</font><font color="#000000">);</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">else</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Failed</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"files differ at the end"</font><font color="#000000">);</font>
<font color="#000000">				</font><font color="#000000">}</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Exception</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				e</font><font color="#000000">.</font><font color="#000000">printStackTrace</font><font color="#000000">();</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">		</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">		thread</font><font color="#000000">.</font><font color="#000000">start</font><font color="#000000">();</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000"> </font><font color="#000000">getSimpleInfo</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> time</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">long</font></b><font color="#000000"> lengthA</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">long</font></b><font color="#000000"> lengthB</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">int</font></b><font color="#000000"> firstDifference</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><font color="#000000">VBox</font><font color="#000000"> holder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">INTERNAL_PADDING</font><font color="#000000">);</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">(</font><font color="#0000ff">"Time: "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> time </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">"s"</font><font color="#000000">));</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">(</font><font color="#0000ff">"File A length: "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> lengthA </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">" bytes"</font><font color="#000000">));</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">(</font><font color="#0000ff">"File B length: "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> lengthB </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">" bytes"</font><font color="#000000">));</font>
<font color="#000000">		holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">(</font><font color="#0000ff">"First difference at bit "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> firstDifference</font><font color="#000000">));</font>
<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> holder</font><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">test</font><font color="#000000">(</font><font color="#000000">File</font><font color="#000000"> directory</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">boolean</font></b><font color="#000000"> useHF</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000"> status</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000"> panel</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">directory </font><font color="#000000">==</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		status</font><font color="#000000">.</font><font color="#000000">initialize</font><font color="#000000">();</font>
<font color="#000000">		panel</font><font color="#000000">.</font><font color="#000000">clear</font><font color="#000000">();</font>

<font color="#000000">		File</font><font color="#000000">[]</font><font color="#000000"> files </font><font color="#000000">=</font><font color="#000000"> directory</font><font color="#000000">.</font><font color="#000000">listFiles</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">List&lt;File&gt;</font><font color="#000000"> toCompress </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> ArrayList</font><font color="#000000">&lt;&gt;();</font>
<font color="#000000">		</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">File</font><font color="#000000"> file </font><font color="#000000">:</font><font color="#000000"> files</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">file</font><font color="#000000">.</font><font color="#000000">isDirectory</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">||</font><font color="#000000"> file</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">().</font><font color="#000000">endsWith</font><font color="#000000">(</font><font color="#0000ff">".dehf"</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">||</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">file</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">().</font><font color="#000000">endsWith</font><font color="#000000">(</font><font color="#0000ff">".hf"</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">&amp;&amp;</font><font color="#000000"> </font><font color="#000000">!</font><font color="#000000">useHF</font><font color="#000000">)</font>
<font color="#000000">					</font><font color="#000000">||</font><font color="#000000"> </font><font color="#000000">(!</font><font color="#000000">file</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">().</font><font color="#000000">endsWith</font><font color="#000000">(</font><font color="#0000ff">".hf"</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">&amp;&amp;</font><font color="#000000"> useHF</font><font color="#000000">))</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><b><font color="#7f0055">continue</font></b><font color="#000000">;</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">			toCompress</font><font color="#000000">.</font><font color="#000000">add</font><font color="#000000">(</font><font color="#000000">file</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">int</font></b><font color="#000000"> total </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">File</font><font color="#000000"> file </font><font color="#000000">:</font><font color="#000000"> toCompress</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			total </font><font color="#000000">+=</font><font color="#000000"> file</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">		</font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">int</font></b><font color="#000000"> sum </font><font color="#000000">=</font><font color="#000000"> total</font><font color="#000000">;</font>

<font color="#000000">		</font><font color="#000000">ProgressUpdater</font><font color="#000000"> updater </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">ProgressUpdater</font><font color="#000000">(</font><font color="#000000">status</font><font color="#000000">,</font><font color="#000000"> panel</font><font color="#000000">);</font>

<font color="#000000">		@</font><font color="#000000">SuppressWarnings</font><font color="#000000">(</font><font color="#0000ff">"resource"</font><font color="#000000">)</font>
<font color="#000000">		</font><font color="#000000">Thread</font><font color="#000000"> thread </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Thread</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			updater</font><font color="#000000">.</font><font color="#000000">start</font><font color="#000000">();</font>
<font color="#000000">			</font><b><font color="#7f0055">double</font></b><font color="#000000">[]</font><font color="#000000"> times </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000">[</font><font color="#000000">toCompress</font><font color="#000000">.</font><font color="#000000">size</font><font color="#000000">()];</font>
<font color="#000000">			File</font><font color="#000000">[]</font><font color="#000000"> compressed </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> File</font><font color="#000000">[</font><font color="#000000">toCompress</font><font color="#000000">.</font><font color="#000000">size</font><font color="#000000">()];</font>
<font color="#000000">			</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><b><font color="#7f0055">int</font></b><font color="#000000"> i </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font><font color="#000000"> i </font><font color="#000000">&lt;</font><font color="#000000"> toCompress</font><font color="#000000">.</font><font color="#000000">size</font><font color="#000000">();</font><font color="#000000"> i</font><font color="#000000">++)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><font color="#000000">File</font><font color="#000000"> file </font><font color="#000000">=</font><font color="#000000"> toCompress</font><font color="#000000">.</font><font color="#000000">get</font><font color="#000000">(</font><font color="#000000">i</font><font color="#000000">);</font>
<font color="#000000">				</font><b><font color="#7f0055">try</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Working</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"compressing "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> file</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">());</font>
<font color="#000000">					</font><font color="#000000">BitInputStream</font><font color="#000000"> in </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">BitInputStream</font><font color="#000000">(</font><font color="#000000">file</font><font color="#000000">);</font>
<font color="#000000">					compressed</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">]</font><font color="#000000"> </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">File</font><font color="#000000">(</font><font color="#000000">file</font><font color="#000000">.</font><font color="#000000">getPath</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">".hf"</font><font color="#000000">);</font>
<font color="#000000">					</font><font color="#000000">BitOutputStream</font><font color="#000000"> out </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">BitOutputStream</font><font color="#000000">(</font><font color="#000000">compressed</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">]);</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">setGenerator</font><font color="#000000">(()</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">						</font><b><font color="#7f0055">return</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">updater</font><font color="#000000">.</font><font color="#000000">progress</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> in</font><font color="#000000">.</font><font color="#000000">getBitsRead</font><font color="#000000">())</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">8.0</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> sum</font><font color="#000000">);</font>
<font color="#000000">					</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">					</font><font color="#000000">Processor</font><font color="#000000"> processor </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">getProcessor</font><font color="#000000">();</font>
<font color="#000000">					</font><b><font color="#7f0055">double</font></b><font color="#000000"> start </font><font color="#000000">=</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">currentTimeMillis</font><font color="#000000">();</font>
<font color="#000000">					processor</font><font color="#000000">.</font><font color="#000000">compress</font><font color="#000000">(</font><font color="#000000">in</font><font color="#000000">,</font><font color="#000000"> out</font><font color="#000000">);</font>
<font color="#000000">					times</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">]</font><font color="#000000"> </font><font color="#000000">=</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">currentTimeMillis</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> start</font><font color="#000000">;</font>
<font color="#000000">					updater</font><font color="#000000">.</font><font color="#000000">setProgress</font><font color="#000000">(</font><font color="#000000">updater</font><font color="#000000">.</font><font color="#000000">progress</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> file</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> </font><font color="#000000">8.0</font><font color="#000000">);</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Exception</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					System</font><font color="#000000">.</font><font color="#000000">err</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font><font color="#0000ff">"problem compressing "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> file</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">());</font>
<font color="#000000">				</font><font color="#000000">}</font>
<font color="#000000">			</font><font color="#000000">}</font>

<font color="#000000">			updater</font><font color="#000000">.</font><font color="#000000">stop</font><font color="#000000">();</font>
<font color="#000000">			updater</font><font color="#000000">.</font><font color="#000000">updateStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000">.</font><font color="#000000">Complete</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"test complete"</font><font color="#000000">);</font>
<font color="#000000">			updater</font><font color="#000000">.</font><font color="#000000">addContent</font><font color="#000000">(</font><font color="#0000ff">"Info"</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">getInfo</font><font color="#000000">(</font><font color="#000000">times</font><font color="#000000">,</font><font color="#000000"> toCompress</font><font color="#000000">.</font><font color="#000000">toArray</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> File</font><font color="#000000">[</font><font color="#000000">toCompress</font><font color="#000000">.</font><font color="#000000">size</font><font color="#000000">()]),</font><font color="#000000"> compressed</font><font color="#000000">));</font>
<font color="#000000">		</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">		thread</font><font color="#000000">.</font><font color="#000000">start</font><font color="#000000">();</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">class</font></b><font color="#000000"> </font><font color="#000000">HuffChooser</font><font color="#000000"> </font><font color="#000000">{</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><font color="#000000">File</font><font color="#000000"> INITIAL_DIRECTORY </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">File</font><font color="#000000">(</font><font color="#0000ff">"data"</font><font color="#000000">);</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><font color="#000000">Color</font><font color="#000000"> VALID </font><font color="#000000">=</font><font color="#000000"> Color</font><font color="#000000">.</font><font color="#000000">DARKGREEN</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><font color="#000000">Color</font><font color="#000000"> INVALID </font><font color="#000000">=</font><font color="#000000"> Color</font><font color="#000000">.</font><font color="#000000">DARKRED</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><font color="#000000">Color</font><font color="#000000"> NEUTRAL </font><font color="#000000">=</font><font color="#000000"> Color</font><font color="#000000">.</font><font color="#000000">BLACK</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> DEFAULT </font><font color="#000000">=</font><font color="#000000"> </font><font color="#0000ff">"No File Chosen"</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> CHOOSE </font><font color="#000000">=</font><font color="#000000"> </font><font color="#0000ff">"Choose New File"</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> WIDTH </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">200</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">boolean</font></b><font color="#000000"> choosingFile</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">File</font><font color="#000000"> chosenFile</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> label</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">HuffChooser</font><font color="#000000">(</font><b><font color="#7f0055">boolean</font></b><font color="#000000"> choosingFile</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> label</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">choosingFile </font><font color="#000000">=</font><font color="#000000"> choosingFile</font><font color="#000000">;</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">label </font><font color="#000000">=</font><font color="#000000"> label</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">Node</font><font color="#000000"> </font><font color="#000000">render</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><font color="#000000">HBox</font><font color="#000000"> holder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HBox</font><font color="#000000">();</font>
<font color="#000000">			holder</font><font color="#000000">.</font><font color="#000000">setMinWidth</font><font color="#000000">(</font><font color="#000000">WIDTH</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">Text</font><font color="#000000"> title </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">();</font>
<font color="#000000">			</font><font color="#000000">setText</font><font color="#000000">(</font><font color="#000000">title</font><font color="#000000">,</font><font color="#000000"> label </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">": "</font><font color="#000000">,</font><font color="#000000"> NEUTRAL</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">Text</font><font color="#000000"> fileName </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">();</font>
<font color="#000000">			</font><font color="#000000">setText</font><font color="#000000">(</font><font color="#000000">fileName</font><font color="#000000">,</font><font color="#000000"> DEFAULT</font><font color="#000000">,</font><font color="#000000"> INVALID</font><font color="#000000">);</font>

<font color="#000000">			fileName</font><font color="#000000">.</font><font color="#000000">setOnMouseEntered</font><font color="#000000">((</font><font color="#000000">entered</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">fadeText</font><font color="#000000">(</font><font color="#000000">fileName</font><font color="#000000">,</font><font color="#000000"> CHOOSE</font><font color="#000000">,</font><font color="#000000"> NEUTRAL</font><font color="#000000">));</font>
<font color="#000000">			fileName</font><font color="#000000">.</font><font color="#000000">setOnMouseExited</font><font color="#000000">((</font><font color="#000000">exited</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">handleExit</font><font color="#000000">(</font><font color="#000000">fileName</font><font color="#000000">));</font>
<font color="#000000">			fileName</font><font color="#000000">.</font><font color="#000000">setOnMouseClicked</font><font color="#000000">((</font><font color="#000000">clicked</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">handleClick</font><font color="#000000">(</font><font color="#000000">fileName</font><font color="#000000">));</font>

<font color="#000000">			holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">title</font><font color="#000000">,</font><font color="#000000"> fileName</font><font color="#000000">);</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> holder</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">File</font><font color="#000000"> </font><font color="#000000">getChosenFile</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> chosenFile</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">handleExit</font><font color="#000000">(</font><font color="#000000">Text</font><font color="#000000"> fileName</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">chosenFile </font><font color="#000000">==</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><font color="#000000">fadeText</font><font color="#000000">(</font><font color="#000000">fileName</font><font color="#000000">,</font><font color="#000000"> DEFAULT</font><font color="#000000">,</font><font color="#000000"> INVALID</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">else</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><font color="#000000">fadeText</font><font color="#000000">(</font><font color="#000000">fileName</font><font color="#000000">,</font><font color="#000000"> chosenFile</font><font color="#000000">.</font><font color="#000000">getName</font><font color="#000000">(),</font><font color="#000000"> VALID</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">handleClick</font><font color="#000000">(</font><font color="#000000">Text</font><font color="#000000"> fileName</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			fileName</font><font color="#000000">.</font><font color="#000000">setOnMouseExited</font><font color="#000000">(</font><b><font color="#7f0055">null</font></b><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">File</font><font color="#000000"> temp</font><font color="#000000">;</font>
<font color="#000000">			</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">choosingFile</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><font color="#000000">FileChooser</font><font color="#000000"> chooser </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">FileChooser</font><font color="#000000">();</font>
<font color="#000000">				chooser</font><font color="#000000">.</font><font color="#000000">setInitialDirectory</font><font color="#000000">(</font><font color="#000000">INITIAL_DIRECTORY</font><font color="#000000">);</font>
<font color="#000000">				chooser</font><font color="#000000">.</font><font color="#000000">setTitle</font><font color="#000000">(</font><font color="#0000ff">"Choose File"</font><font color="#000000">);</font>
<font color="#000000">				temp </font><font color="#000000">=</font><font color="#000000"> chooser</font><font color="#000000">.</font><font color="#000000">showOpenDialog</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Stage</font><font color="#000000">());</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">else</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><font color="#000000">DirectoryChooser</font><font color="#000000"> chooser </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">DirectoryChooser</font><font color="#000000">();</font>
<font color="#000000">				chooser</font><font color="#000000">.</font><font color="#000000">setInitialDirectory</font><font color="#000000">(</font><font color="#000000">INITIAL_DIRECTORY</font><font color="#000000">);</font>
<font color="#000000">				chooser</font><font color="#000000">.</font><font color="#000000">setTitle</font><font color="#000000">(</font><font color="#0000ff">"Choose Folder"</font><font color="#000000">);</font>
<font color="#000000">				temp </font><font color="#000000">=</font><font color="#000000"> chooser</font><font color="#000000">.</font><font color="#000000">showDialog</font><font color="#000000">(</font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Stage</font><font color="#000000">());</font>
<font color="#000000">			</font><font color="#000000">}</font>

<font color="#000000">			</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">temp </font><font color="#000000">!=</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				chosenFile </font><font color="#000000">=</font><font color="#000000"> temp</font><font color="#000000">;</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">			</font><font color="#000000">handleExit</font><font color="#000000">(</font><font color="#000000">fileName</font><font color="#000000">);</font>

<font color="#000000">			fileName</font><font color="#000000">.</font><font color="#000000">setOnMouseExited</font><font color="#000000">((</font><font color="#000000">exited</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">handleExit</font><font color="#000000">(</font><font color="#000000">fileName</font><font color="#000000">));</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">setText</font><font color="#000000">(</font><font color="#000000">Text</font><font color="#000000"> text</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> value</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">Color</font><font color="#000000"> fill</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			text</font><font color="#000000">.</font><font color="#000000">setText</font><font color="#000000">(</font><font color="#000000">value</font><font color="#000000">);</font>
<font color="#000000">			text</font><font color="#000000">.</font><font color="#000000">setFill</font><font color="#000000">(</font><font color="#000000">fill</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">fadeText</font><font color="#000000">(</font><font color="#000000">Text</font><font color="#000000"> text</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> value</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">Color</font><font color="#000000"> fill</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><font color="#000000">FadeTransition</font><font color="#000000"> fade </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">FadeTransition</font><font color="#000000">(</font><font color="#000000">Duration</font><font color="#000000">.</font><font color="#000000">millis</font><font color="#000000">(</font><font color="#000000">50</font><font color="#000000">),</font><font color="#000000"> text</font><font color="#000000">);</font>
<font color="#000000">			fade</font><font color="#000000">.</font><font color="#000000">setToValue</font><font color="#000000">(</font><font color="#000000">0.0</font><font color="#000000">);</font>
<font color="#000000">			fade</font><font color="#000000">.</font><font color="#000000">setOnFinished</font><font color="#000000">((</font><font color="#000000">finished</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><font color="#000000">setText</font><font color="#000000">(</font><font color="#000000">text</font><font color="#000000">,</font><font color="#000000"> value</font><font color="#000000">,</font><font color="#000000"> fill</font><font color="#000000">);</font>
<font color="#000000">				fade</font><font color="#000000">.</font><font color="#000000">setToValue</font><font color="#000000">(</font><font color="#000000">1.0</font><font color="#000000">);</font>
<font color="#000000">				fade</font><font color="#000000">.</font><font color="#000000">setOnFinished</font><font color="#000000">(</font><b><font color="#7f0055">null</font></b><font color="#000000">);</font>
<font color="#000000">				fade</font><font color="#000000">.</font><font color="#000000">play</font><font color="#000000">();</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">			fade</font><font color="#000000">.</font><font color="#000000">play</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">class</font></b><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000"> </font><font color="#000000">{</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> HEIGHT </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">25</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> ARC </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">10</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> PADDING </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">8</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> width</font><font color="#000000">,</font><font color="#000000"> height</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">Map&lt;String, Node&gt;</font><font color="#000000"> content</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">ScrollPane</font><font color="#000000"> contentHolder</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> selected</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">HuffPanel</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> width</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> height</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">width </font><font color="#000000">=</font><font color="#000000"> width</font><font color="#000000">;</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">height </font><font color="#000000">=</font><font color="#000000"> height</font><font color="#000000">;</font>
<font color="#000000">			content </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> HashMap</font><font color="#000000">&lt;&gt;();</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">Node</font><font color="#000000"> </font><font color="#000000">render</font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000">[]</font><font color="#000000"> options</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><font color="#000000">VBox</font><font color="#000000"> holder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">();</font>
<font color="#000000">			holder</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">width</font><font color="#000000">,</font><font color="#000000"> height</font><font color="#000000">);</font>
<font color="#000000">			contentHolder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">ScrollPane</font><font color="#000000">();</font>
<font color="#000000">			contentHolder</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">width</font><font color="#000000">,</font><font color="#000000"> height</font><font color="#000000">);</font>
<font color="#000000">			contentHolder</font><font color="#000000">.</font><font color="#000000">setMaxSize</font><font color="#000000">(</font><font color="#000000">width</font><font color="#000000">,</font><font color="#000000"> height</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">Group</font><font color="#000000"> menuBar </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">createMenu</font><font color="#000000">(</font><font color="#000000">options</font><font color="#000000">);</font>
<font color="#000000">			holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">menuBar</font><font color="#000000">,</font><font color="#000000"> contentHolder</font><font color="#000000">);</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> holder</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">Group</font><font color="#000000"> </font><font color="#000000">createMenu</font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000">[]</font><font color="#000000"> options</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><font color="#000000">Rectangle</font><font color="#000000"> background </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Rectangle</font><font color="#000000">(</font><font color="#000000">width</font><font color="#000000">,</font><font color="#000000"> HEIGHT</font><font color="#000000">,</font><font color="#000000"> Color</font><font color="#000000">.</font><font color="#000000">DARKGRAY</font><font color="#000000">);</font>
<font color="#000000">			background</font><font color="#000000">.</font><font color="#000000">setStroke</font><font color="#000000">(</font><font color="#000000">Color</font><font color="#000000">.</font><font color="#000000">BLACK</font><font color="#000000">);</font>
<font color="#000000">			background</font><font color="#000000">.</font><font color="#000000">setArcHeight</font><font color="#000000">(</font><font color="#000000">ARC</font><font color="#000000">);</font>
<font color="#000000">			background</font><font color="#000000">.</font><font color="#000000">setArcWidth</font><font color="#000000">(</font><font color="#000000">ARC</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">HBox</font><font color="#000000"> titleHolder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HBox</font><font color="#000000">();</font>
<font color="#000000">			titleHolder</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">width</font><font color="#000000">,</font><font color="#000000"> HEIGHT</font><font color="#000000">);</font>
<font color="#000000">			titleHolder</font><font color="#000000">.</font><font color="#000000">setAlignment</font><font color="#000000">(</font><font color="#000000">Pos</font><font color="#000000">.</font><font color="#000000">CENTER_LEFT</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">Text</font><font color="#000000"> title </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">();</font>
<font color="#000000">			titleHolder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><font color="#000000">title</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">HBox</font><font color="#000000"> menuHolder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HBox</font><font color="#000000">(</font><font color="#000000">PADDING</font><font color="#000000">);</font>
<font color="#000000">			menuHolder</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">width </font><font color="#000000">-</font><font color="#000000"> PADDING</font><font color="#000000">,</font><font color="#000000"> HEIGHT</font><font color="#000000">);</font>
<font color="#000000">			menuHolder</font><font color="#000000">.</font><font color="#000000">setAlignment</font><font color="#000000">(</font><font color="#000000">Pos</font><font color="#000000">.</font><font color="#000000">CENTER_RIGHT</font><font color="#000000">);</font>

<font color="#000000">			Text</font><font color="#000000">[]</font><font color="#000000"> buttons </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> Text</font><font color="#000000">[</font><font color="#000000">options</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">];</font>
<font color="#000000">			</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><b><font color="#7f0055">int</font></b><font color="#000000"> i </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font><font color="#000000"> i </font><font color="#000000">&lt;</font><font color="#000000"> options</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">;</font><font color="#000000"> i</font><font color="#000000">++)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				buttons</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">]</font><font color="#000000"> </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">(</font><font color="#000000">options</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">]);</font>
<font color="#000000">			</font><font color="#000000">}</font>

<font color="#000000">			selected </font><font color="#000000">=</font><font color="#000000"> options</font><font color="#000000">[</font><font color="#000000">0</font><font color="#000000">];</font>
<font color="#000000">			</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Text</font><font color="#000000"> option </font><font color="#000000">:</font><font color="#000000"> buttons</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				menuHolder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><font color="#000000">option</font><font color="#000000">);</font>
<font color="#000000">				</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">option</font><font color="#000000">.</font><font color="#000000">getText</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">!=</font><font color="#000000"> selected</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					option</font><font color="#000000">.</font><font color="#000000">setOpacity</font><font color="#000000">(</font><font color="#000000">0.5</font><font color="#000000">);</font>
<font color="#000000">				</font><font color="#000000">}</font>
<font color="#000000">				option</font><font color="#000000">.</font><font color="#000000">setOnMouseClicked</font><font color="#000000">((</font><font color="#000000">clicked</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					selected </font><font color="#000000">=</font><font color="#000000"> option</font><font color="#000000">.</font><font color="#000000">getText</font><font color="#000000">();</font>
<font color="#000000">					</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Text</font><font color="#000000"> t </font><font color="#000000">:</font><font color="#000000"> buttons</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">						</font><font color="#000000">FadeTransition</font><font color="#000000"> fade </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">FadeTransition</font><font color="#000000">(</font><font color="#000000">Duration</font><font color="#000000">.</font><font color="#000000">millis</font><font color="#000000">(</font><font color="#000000">50</font><font color="#000000">),</font><font color="#000000"> t</font><font color="#000000">);</font>
<font color="#000000">						fade</font><font color="#000000">.</font><font color="#000000">setToValue</font><font color="#000000">(</font><font color="#000000">0.5</font><font color="#000000">);</font>
<font color="#000000">						fade</font><font color="#000000">.</font><font color="#000000">play</font><font color="#000000">();</font>
<font color="#000000">					</font><font color="#000000">}</font>
<font color="#000000">					</font><font color="#000000">FadeTransition</font><font color="#000000"> fade </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">FadeTransition</font><font color="#000000">(</font><font color="#000000">Duration</font><font color="#000000">.</font><font color="#000000">millis</font><font color="#000000">(</font><font color="#000000">50</font><font color="#000000">),</font><font color="#000000"> option</font><font color="#000000">);</font>
<font color="#000000">					fade</font><font color="#000000">.</font><font color="#000000">setToValue</font><font color="#000000">(</font><font color="#000000">1.0</font><font color="#000000">);</font>
<font color="#000000">					fade</font><font color="#000000">.</font><font color="#000000">play</font><font color="#000000">();</font>
<font color="#000000">					contentHolder</font><font color="#000000">.</font><font color="#000000">setContent</font><font color="#000000">(</font><b><font color="#7f0055">null</font></b><font color="#000000">);</font>
<font color="#000000">					</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">content</font><font color="#000000">.</font><font color="#000000">containsKey</font><font color="#000000">(</font><font color="#000000">option</font><font color="#000000">.</font><font color="#000000">getText</font><font color="#000000">()))</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">						contentHolder</font><font color="#000000">.</font><font color="#000000">setContent</font><font color="#000000">(</font><font color="#000000">content</font><font color="#000000">.</font><font color="#000000">get</font><font color="#000000">(</font><font color="#000000">option</font><font color="#000000">.</font><font color="#000000">getText</font><font color="#000000">()));</font>
<font color="#000000">					</font><font color="#000000">}</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">}</font>

<font color="#000000">			</font><font color="#000000">Group</font><font color="#000000"> menuRoot </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Group</font><font color="#000000">();</font>
<font color="#000000">			menuRoot</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">background</font><font color="#000000">,</font><font color="#000000"> titleHolder</font><font color="#000000">,</font><font color="#000000"> menuHolder</font><font color="#000000">);</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> menuRoot</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">addContent</font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000"> label</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">Node</font><font color="#000000"> node</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			content</font><font color="#000000">.</font><font color="#000000">put</font><font color="#000000">(</font><font color="#000000">label</font><font color="#000000">,</font><font color="#000000"> node</font><font color="#000000">);</font>
<font color="#000000">			</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">selected </font><font color="#000000">==</font><font color="#000000"> label</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				contentHolder</font><font color="#000000">.</font><font color="#000000">setContent</font><font color="#000000">(</font><font color="#000000">node</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">clear</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			content</font><font color="#000000">.</font><font color="#000000">clear</font><font color="#000000">();</font>
<font color="#000000">			contentHolder</font><font color="#000000">.</font><font color="#000000">setContent</font><font color="#000000">(</font><b><font color="#7f0055">null</font></b><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">enum</font><font color="#000000"> Status </font><font color="#000000">{</font>

<font color="#000000">		</font><font color="#000000">Complete</font><font color="#000000">(</font><font color="#000000">Color</font><font color="#000000">.</font><font color="#000000">DARKGREEN</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"100%"</font><font color="#000000">),</font><font color="#000000"> </font><font color="#000000">Working</font><font color="#000000">(</font><font color="#000000">Color</font><font color="#000000">.</font><font color="#000000">DARKGRAY</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">""</font><font color="#000000">),</font><font color="#000000"> </font><font color="#000000">Failed</font><font color="#000000">(</font><font color="#000000">Color</font><font color="#000000">.</font><font color="#000000">DARKRED</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"  0%"</font><font color="#000000">);</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">Color</font><font color="#000000"> color</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> percent</font><font color="#000000">;</font>

<font color="#000000">		</font><font color="#000000">Status</font><font color="#000000">(</font><font color="#000000">Color</font><font color="#000000"> color</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> percent</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">color </font><font color="#000000">=</font><font color="#000000"> color</font><font color="#000000">;</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">percent </font><font color="#000000">=</font><font color="#000000"> percent</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">Color</font><font color="#000000"> </font><font color="#000000">color</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> color</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> </font><font color="#000000">percent</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> percent</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">class</font></b><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000"> </font><font color="#000000">{</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> OUTER </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">33</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> INNER </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">30.5</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> BUFFER </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">1.25</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> PADDING </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">5</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000"> width</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">Rectangle</font><font color="#000000"> progress</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000"> percent</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000"> status</font><font color="#000000">;</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">StatusBar</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> width</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">this</font></b><font color="#000000">.</font><font color="#000000">width </font><font color="#000000">=</font><font color="#000000"> width</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><font color="#000000">Node</font><font color="#000000"> </font><font color="#000000">render</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><font color="#000000">VBox</font><font color="#000000"> holder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">VBox</font><font color="#000000">(</font><font color="#000000">PADDING</font><font color="#000000">);</font>
<font color="#000000">			holder</font><font color="#000000">.</font><font color="#000000">setMinWidth</font><font color="#000000">(</font><font color="#000000">width</font><font color="#000000">);</font>

<font color="#000000">			status </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">();</font>
<font color="#000000">			percent </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Text</font><font color="#000000">();</font>
<font color="#000000">			progress </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Rectangle</font><font color="#000000">();</font>

<font color="#000000">			</font><font color="#000000">initialize</font><font color="#000000">();</font>

<font color="#000000">			</font><font color="#000000">HBox</font><font color="#000000"> statusHolder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HBox</font><font color="#000000">();</font>
<font color="#000000">			statusHolder</font><font color="#000000">.</font><font color="#000000">setMinWidth</font><font color="#000000">(</font><font color="#000000">width </font><font color="#000000">-</font><font color="#000000"> INNER</font><font color="#000000">);</font>
<font color="#000000">			statusHolder</font><font color="#000000">.</font><font color="#000000">setMaxWidth</font><font color="#000000">(</font><font color="#000000">width </font><font color="#000000">-</font><font color="#000000"> INNER</font><font color="#000000">);</font>
<font color="#000000">			statusHolder</font><font color="#000000">.</font><font color="#000000">setTranslateX</font><font color="#000000">(</font><font color="#000000">INNER </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000">);</font>
<font color="#000000">			statusHolder</font><font color="#000000">.</font><font color="#000000">setAlignment</font><font color="#000000">(</font><font color="#000000">Pos</font><font color="#000000">.</font><font color="#000000">CENTER_RIGHT</font><font color="#000000">);</font>
<font color="#000000">			statusHolder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><font color="#000000">status</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">HBox</font><font color="#000000"> percentHolder </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">HBox</font><font color="#000000">();</font>
<font color="#000000">			percentHolder</font><font color="#000000">.</font><font color="#000000">setAlignment</font><font color="#000000">(</font><font color="#000000">Pos</font><font color="#000000">.</font><font color="#000000">CENTER</font><font color="#000000">);</font>
<font color="#000000">			percentHolder</font><font color="#000000">.</font><font color="#000000">setMinSize</font><font color="#000000">(</font><font color="#000000">width</font><font color="#000000">,</font><font color="#000000"> OUTER</font><font color="#000000">);</font>
<font color="#000000">			percentHolder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">add</font><font color="#000000">(</font><font color="#000000">percent</font><font color="#000000">);</font>

<font color="#000000">			</font><font color="#000000">Group</font><font color="#000000"> progressBar </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Group</font><font color="#000000">();</font>

<font color="#000000">			</font><font color="#000000">Rectangle</font><font color="#000000"> background </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Rectangle</font><font color="#000000">(</font><font color="#000000">width</font><font color="#000000">,</font><font color="#000000"> OUTER</font><font color="#000000">);</font>
<font color="#000000">			background</font><font color="#000000">.</font><font color="#000000">setFill</font><font color="#000000">(</font><font color="#000000">Color</font><font color="#000000">.</font><font color="#000000">LIGHTGRAY</font><font color="#000000">);</font>
<font color="#000000">			background</font><font color="#000000">.</font><font color="#000000">setStroke</font><font color="#000000">(</font><font color="#000000">Color</font><font color="#000000">.</font><font color="#000000">BLACK</font><font color="#000000">);</font>
<font color="#000000">			background</font><font color="#000000">.</font><font color="#000000">setStrokeWidth</font><font color="#000000">(</font><font color="#000000">BUFFER</font><font color="#000000">);</font>
<font color="#000000">			background</font><font color="#000000">.</font><font color="#000000">setArcHeight</font><font color="#000000">(</font><font color="#000000">OUTER</font><font color="#000000">);</font>
<font color="#000000">			background</font><font color="#000000">.</font><font color="#000000">setArcWidth</font><font color="#000000">(</font><font color="#000000">OUTER</font><font color="#000000">);</font>

<font color="#000000">			progressBar</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">background</font><font color="#000000">,</font><font color="#000000"> progress</font><font color="#000000">,</font><font color="#000000"> percentHolder</font><font color="#000000">);</font>
<font color="#000000">			holder</font><font color="#000000">.</font><font color="#000000">getChildren</font><font color="#000000">().</font><font color="#000000">addAll</font><font color="#000000">(</font><font color="#000000">progressBar</font><font color="#000000">,</font><font color="#000000"> statusHolder</font><font color="#000000">);</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> holder</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">initialize</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			percent</font><font color="#000000">.</font><font color="#000000">setText</font><font color="#000000">(</font><font color="#0000ff">"  0%"</font><font color="#000000">);</font>
<font color="#000000">			status</font><font color="#000000">.</font><font color="#000000">setText</font><font color="#000000">(</font><font color="#0000ff">""</font><font color="#000000">);</font>
<font color="#000000">			progress</font><font color="#000000">.</font><font color="#000000">setHeight</font><font color="#000000">(</font><font color="#000000">INNER</font><font color="#000000">);</font>
<font color="#000000">			progress</font><font color="#000000">.</font><font color="#000000">setWidth</font><font color="#000000">(</font><font color="#000000">0</font><font color="#000000">);</font>
<font color="#000000">			progress</font><font color="#000000">.</font><font color="#000000">setFill</font><font color="#000000">(</font><font color="#000000">Color</font><font color="#000000">.</font><font color="#000000">DARKGRAY</font><font color="#000000">);</font>
<font color="#000000">			progress</font><font color="#000000">.</font><font color="#000000">setTranslateX</font><font color="#000000">(</font><font color="#000000">BUFFER</font><font color="#000000">);</font>
<font color="#000000">			progress</font><font color="#000000">.</font><font color="#000000">setArcHeight</font><font color="#000000">(</font><font color="#000000">INNER</font><font color="#000000">);</font>
<font color="#000000">			progress</font><font color="#000000">.</font><font color="#000000">setArcWidth</font><font color="#000000">(</font><font color="#000000">INNER</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">setProgress</font><font color="#000000">(</font><b><font color="#7f0055">double</font></b><font color="#000000"> percentComplete</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">double</font></b><font color="#000000"> progressWidth </font><font color="#000000">=</font><font color="#000000"> percentComplete </font><font color="#000000">*</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">width </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> BUFFER</font><font color="#000000">);</font>

<font color="#000000">			</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">progressWidth </font><font color="#000000">&lt;</font><font color="#000000"> INNER</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><b><font color="#7f0055">double</font></b><font color="#000000"> height </font><font color="#000000">=</font><font color="#000000"> Math</font><font color="#000000">.</font><font color="#000000">sqrt</font><font color="#000000">(</font><font color="#000000">Math</font><font color="#000000">.</font><font color="#000000">pow</font><font color="#000000">(</font><font color="#000000">INNER</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Math</font><font color="#000000">.</font><font color="#000000">pow</font><font color="#000000">(</font><font color="#000000">progressWidth </font><font color="#000000">-</font><font color="#000000"> INNER</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000">)));</font>
<font color="#000000">				progress</font><font color="#000000">.</font><font color="#000000">setHeight</font><font color="#000000">(</font><font color="#000000">height</font><font color="#000000">);</font>
<font color="#000000">				progress</font><font color="#000000">.</font><font color="#000000">setTranslateY</font><font color="#000000">(</font><font color="#000000">BUFFER </font><font color="#000000">+</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">INNER </font><font color="#000000">-</font><font color="#000000"> height</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">else</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				progress</font><font color="#000000">.</font><font color="#000000">setHeight</font><font color="#000000">(</font><font color="#000000">INNER</font><font color="#000000">);</font>
<font color="#000000">				progress</font><font color="#000000">.</font><font color="#000000">setTranslateY</font><font color="#000000">(</font><font color="#000000">BUFFER</font><font color="#000000">);</font>
<font color="#000000">			</font><font color="#000000">}</font>

<font color="#000000">			progress</font><font color="#000000">.</font><font color="#000000">setWidth</font><font color="#000000">(</font><font color="#000000">progressWidth</font><font color="#000000">);</font>
<font color="#000000">			percent</font><font color="#000000">.</font><font color="#000000">setText</font><font color="#000000">((</font><b><font color="#7f0055">int</font></b><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">100</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> percentComplete</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">"%"</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">setStatus</font><font color="#000000">(</font><font color="#000000">Status</font><font color="#000000"> updatedStatus</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> message</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">updatedStatus </font><font color="#000000">!=</font><font color="#000000"> Status</font><font color="#000000">.</font><font color="#000000">Working</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				progress</font><font color="#000000">.</font><font color="#000000">setFill</font><font color="#000000">(</font><font color="#000000">updatedStatus</font><font color="#000000">.</font><font color="#000000">color</font><font color="#000000">());</font>
<font color="#000000">				progress</font><font color="#000000">.</font><font color="#000000">setWidth</font><font color="#000000">(</font><font color="#000000">width </font><font color="#000000">-</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> BUFFER</font><font color="#000000">);</font>
<font color="#000000">				progress</font><font color="#000000">.</font><font color="#000000">setHeight</font><font color="#000000">(</font><font color="#000000">INNER</font><font color="#000000">);</font>
<font color="#000000">				progress</font><font color="#000000">.</font><font color="#000000">setTranslateY</font><font color="#000000">(</font><font color="#000000">BUFFER</font><font color="#000000">);</font>
<font color="#000000">				percent</font><font color="#000000">.</font><font color="#000000">setText</font><font color="#000000">(</font><font color="#000000">updatedStatus</font><font color="#000000">.</font><font color="#000000">percent</font><font color="#000000">());</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">			</font><font color="#000000">FadeTransition</font><font color="#000000"> fade </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">FadeTransition</font><font color="#000000">(</font><font color="#000000">Duration</font><font color="#000000">.</font><font color="#000000">millis</font><font color="#000000">(</font><font color="#000000">50</font><font color="#000000">),</font><font color="#000000"> status</font><font color="#000000">);</font>
<font color="#000000">			fade</font><font color="#000000">.</font><font color="#000000">setToValue</font><font color="#000000">(</font><font color="#000000">0.0</font><font color="#000000">);</font>
<font color="#000000">			fade</font><font color="#000000">.</font><font color="#000000">setOnFinished</font><font color="#000000">((</font><font color="#000000">finished</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">-&gt;</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				status</font><font color="#000000">.</font><font color="#000000">setText</font><font color="#000000">(</font><font color="#000000">message</font><font color="#000000">);</font>
<font color="#000000">				fade</font><font color="#000000">.</font><font color="#000000">setToValue</font><font color="#000000">(</font><font color="#000000">1.0</font><font color="#000000">);</font>
<font color="#000000">				fade</font><font color="#000000">.</font><font color="#000000">setOnFinished</font><font color="#000000">(</font><b><font color="#7f0055">null</font></b><font color="#000000">);</font>
<font color="#000000">				fade</font><font color="#000000">.</font><font color="#000000">play</font><font color="#000000">();</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000">);</font>
<font color="#000000">			fade</font><font color="#000000">.</font><font color="#000000">play</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#000000">}</font>
<font color="#000000">}</font></tt></pre>
</body>
</html>
