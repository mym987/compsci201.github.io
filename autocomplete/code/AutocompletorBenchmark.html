<html>
<head>
<title>AutocompletorBenchmark.java</title>
</head>
<body>
Link to code: <a href="../src/AutocompletorBenchmark.java">AutocompletorBenchmark.java</a><br>
<hr>
<!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">io</font><font color="#000000">.</font><font color="#000000">File</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">io</font><font color="#000000">.</font><font color="#000000">IOException</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">util</font><font color="#000000">.</font><font color="#000000">Locale</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">util</font><font color="#000000">.</font><font color="#000000">Random</font><font color="#000000">;</font>
<font color="#3f5fbf">import</font><font color="#000000"> java</font><font color="#000000">.</font><font color="#000000">util</font><font color="#000000">.</font><font color="#000000">Scanner</font><font color="#000000">;</font>

<font color="#3f5fbf">import</font><font color="#000000"> javax</font><font color="#000000">.</font><font color="#000000">swing</font><font color="#000000">.</font><font color="#000000">JFileChooser</font><font color="#000000">;</font>

<b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">class</font></b><font color="#000000"> </font><font color="#000000">AutocompletorBenchmark</font><font color="#000000"> </font><font color="#000000">{</font>

<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><font color="#000000">Random</font><font color="#000000"> ourRandom </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Random</font><font color="#000000">(</font><font color="#000000">1234</font><font color="#000000">);</font>
<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><font color="#000000">String</font><font color="#000000"> CHARSET </font><font color="#000000">=</font><font color="#000000"> </font><font color="#0000ff">"UTF-8"</font><font color="#000000">;</font>
<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">final</font></b><font color="#000000"> </font><font color="#000000">Locale</font><font color="#000000"> LOCALE </font><font color="#000000">=</font><font color="#000000"> Locale</font><font color="#000000">.</font><font color="#000000">US</font><font color="#000000">;</font>
<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><font color="#000000">Autocompletor</font><font color="#000000"> </font><font color="#000000">getInstance</font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000">[]</font><font color="#000000"> words</font><font color="#000000">,</font><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000">[]</font><font color="#000000"> weights</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">BruteAutocomplete</font><font color="#000000">(</font><font color="#000000">words</font><font color="#000000">,</font><font color="#000000"> weights</font><font color="#000000">);</font>
<font color="#000000">	</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#717ab3">// chooser allows users to select a file by navigating through</font>
<font color="#000000">	</font><font color="#717ab3">// directories</font>
<font color="#000000">	</font><b><font color="#7f0055">private</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><font color="#000000">JFileChooser</font><font color="#000000"> ourChooser </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">JFileChooser</font><font color="#000000">(</font><font color="#000000">System</font>
<font color="#000000">			</font><font color="#000000">.</font><font color="#000000">getProperties</font><font color="#000000">().</font><font color="#000000">getProperty</font><font color="#000000">(</font><font color="#0000ff">"user.dir"</font><font color="#000000">));</font>

<font color="#000000">	</font><font color="#717ab3">/**</font>
<font color="#717ab3">	 * Brings up chooser for user to select a file</font>
<font color="#717ab3">	 * </font>
<font color="#717ab3">	 * </font><b><font color="#7f0055">@return</font></b><font color="#717ab3"> Scanner for user selected file, null if file not found</font>
<font color="#717ab3">	 */</font>
<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><font color="#000000">Scanner</font><font color="#000000"> </font><font color="#000000">getScanner</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">int</font></b><font color="#000000"> retval </font><font color="#000000">=</font><font color="#000000"> ourChooser</font><font color="#000000">.</font><font color="#000000">showOpenDialog</font><font color="#000000">(</font><b><font color="#7f0055">null</font></b><font color="#000000">);</font>
<font color="#000000">		</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">retval </font><font color="#000000">==</font><font color="#000000"> JFileChooser</font><font color="#000000">.</font><font color="#000000">APPROVE_OPTION</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><font color="#000000">File</font><font color="#000000"> f </font><font color="#000000">=</font><font color="#000000"> ourChooser</font><font color="#000000">.</font><font color="#000000">getSelectedFile</font><font color="#000000">();</font>
<font color="#000000">			</font><font color="#000000">Scanner</font><font color="#000000"> s</font><font color="#000000">;</font>
<font color="#000000">			</font><b><font color="#7f0055">try</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">f</font><font color="#000000">.</font><font color="#000000">canRead</font><font color="#000000">())</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					System</font><font color="#000000">.</font><font color="#000000">out</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font><font color="#0000ff">"Opening - "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000">  f</font><font color="#000000">.</font><font color="#000000">getCanonicalPath</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">"."</font><font color="#000000">);</font>
<font color="#000000">				</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">else</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					System</font><font color="#000000">.</font><font color="#000000">out</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font><font color="#0000ff">"Could not open selected file."</font><font color="#000000">);</font>
<font color="#000000">					</font><b><font color="#7f0055">return</font></b><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">;</font>
<font color="#000000">				</font><font color="#000000">}</font>
<font color="#000000">				s </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><font color="#000000">Scanner</font><font color="#000000">(</font><font color="#000000">f</font><font color="#000000">,</font><font color="#000000"> CHARSET</font><font color="#000000">);</font>
<font color="#000000">				s</font><font color="#000000">.</font><font color="#000000">useLocale</font><font color="#000000">(</font><font color="#000000">LOCALE</font><font color="#000000">);</font>
<font color="#000000">				</font>
<font color="#000000">			</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">IOException</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><b><font color="#7f0055">return</font></b><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">;</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">			</font><b><font color="#7f0055">return</font></b><font color="#000000"> s</font><font color="#000000">;</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">	</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">long</font></b><font color="#000000"> </font><font color="#000000">countNodes</font><font color="#000000">(</font><font color="#000000">Node</font><font color="#000000"> root</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font><b><font color="#7f0055">long</font></b><font color="#000000"> result </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">1</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Node</font><font color="#000000"> child </font><font color="#000000">:</font><font color="#000000"> root</font><font color="#000000">.</font><font color="#000000">children</font><font color="#000000">.</font><font color="#000000">values</font><font color="#000000">())</font>
<font color="#000000">			result </font><font color="#000000">+=</font><font color="#000000"> </font><font color="#000000">countNodes</font><font color="#000000">(</font><font color="#000000">child</font><font color="#000000">);</font>
<font color="#000000">		</font><b><font color="#7f0055">return</font></b><font color="#000000"> result</font><font color="#000000">;</font>
<font color="#000000">	</font><font color="#000000">}</font>

<font color="#000000">		</font><b><font color="#7f0055">public</font></b><font color="#000000"> </font><b><font color="#7f0055">static</font></b><font color="#000000"> </font><b><font color="#7f0055">void</font></b><font color="#000000"> </font><font color="#000000">main</font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000">[]</font><font color="#000000"> args</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">		</font>
<font color="#000000">		</font><font color="#000000">Scanner</font><font color="#000000"> in </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">do</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			in </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">getScanner</font><font color="#000000">();</font>
<font color="#000000">			</font>
<font color="#000000">		</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">while</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">in </font><font color="#000000">==</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">);</font>
<font color="#000000">		</font>
<font color="#000000">		</font><b><font color="#7f0055">int</font></b><font color="#000000"> N </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font>
<font color="#000000">		String</font><font color="#000000">[]</font><font color="#000000"> terms </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">double</font></b><font color="#000000">[]</font><font color="#000000"> weights </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">null</font></b><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">try</font></b><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			N </font><font color="#000000">=</font><font color="#000000"> Integer</font><font color="#000000">.</font><font color="#000000">parseInt</font><font color="#000000">(</font><font color="#000000">in</font><font color="#000000">.</font><font color="#000000">nextLine</font><font color="#000000">());</font>
<font color="#000000">			terms </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> String</font><font color="#000000">[</font><font color="#000000">N</font><font color="#000000">];</font>
<font color="#000000">			weights </font><font color="#000000">=</font><font color="#000000"> </font><b><font color="#7f0055">new</font></b><font color="#000000"> </font><b><font color="#7f0055">double</font></b><font color="#000000">[</font><font color="#000000">N</font><font color="#000000">];</font>

<font color="#000000">			</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><b><font color="#7f0055">int</font></b><font color="#000000"> i </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font><font color="#000000"> i </font><font color="#000000">&lt;</font><font color="#000000"> N</font><font color="#000000">;</font><font color="#000000"> i</font><font color="#000000">++)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				</font><font color="#000000">String</font><font color="#000000"> line </font><font color="#000000">=</font><font color="#000000"> in</font><font color="#000000">.</font><font color="#000000">nextLine</font><font color="#000000">();</font>
<font color="#000000">				</font><b><font color="#7f0055">int</font></b><font color="#000000"> tab </font><font color="#000000">=</font><font color="#000000"> line</font><font color="#000000">.</font><font color="#000000">indexOf</font><font color="#000000">(</font><font color="#0000ff">'</font><font color="#0000ff">\t</font><font color="#0000ff">'</font><font color="#000000">);</font>
<font color="#000000">				weights</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">]</font><font color="#000000"> </font><font color="#000000">=</font><font color="#000000"> Double</font><font color="#000000">.</font><font color="#000000">parseDouble</font><font color="#000000">(</font><font color="#000000">line</font><font color="#000000">.</font><font color="#000000">substring</font><font color="#000000">(</font><font color="#000000">0</font><font color="#000000">,</font><font color="#000000"> tab</font><font color="#000000">).</font><font color="#000000">trim</font><font color="#000000">());</font>
<font color="#000000">				terms</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">]</font><font color="#000000"> </font><font color="#000000">=</font><font color="#000000"> line</font><font color="#000000">.</font><font color="#000000">substring</font><font color="#000000">(</font><font color="#000000">tab </font><font color="#000000">+</font><font color="#000000"> </font><font color="#000000">1</font><font color="#000000">).</font><font color="#000000">toLowerCase</font><font color="#000000">();</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">		</font><font color="#000000">}</font><font color="#000000"> </font><b><font color="#7f0055">catch</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">Exception</font><font color="#000000"> e</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> </font><font color="#717ab3">//could be any parsing related exception</font>
<font color="#000000">			System</font><font color="#000000">.</font><font color="#000000">err</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font><font color="#0000ff">"File is malformatted"</font><font color="#000000">);</font>
<font color="#000000">			System</font><font color="#000000">.</font><font color="#000000">exit</font><font color="#000000">(</font><font color="#000000">0</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">		</font><b><font color="#7f0055">long</font></b><font color="#000000"> startTime </font><font color="#000000">=</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">nanoTime</font><font color="#000000">();</font>
<font color="#000000">		</font><font color="#000000">Autocompletor</font><font color="#000000"> auto </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">getInstance</font><font color="#000000">(</font><font color="#000000">terms</font><font color="#000000">,</font><font color="#000000"> weights</font><font color="#000000">);</font>
<font color="#000000">		System</font><font color="#000000">.</font><font color="#000000">out</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font><font color="#0000ff">"Benchmarking "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> auto</font><font color="#000000">.</font><font color="#000000">getClass</font><font color="#000000">().</font><font color="#000000">getName</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">"..."</font><font color="#000000">);</font>
<font color="#000000">		System</font><font color="#000000">.</font><font color="#000000">out</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font><font color="#0000ff">"Found "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> N </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">" words"</font><font color="#000000">);</font>
<font color="#000000">		System</font><font color="#000000">.</font><font color="#000000">out</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font><font color="#0000ff">"Time to initialize - "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">System</font><font color="#000000">.</font><font color="#000000">nanoTime</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> startTime</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">1E9</font><font color="#000000">);</font>
<font color="#000000">		</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">auto </font><font color="#000000">instanceof</font><font color="#000000"> TrieAutocomplete</font><font color="#000000">)</font>
<font color="#000000">			System</font><font color="#000000">.</font><font color="#000000">out</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font><font color="#0000ff">"Created "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#000000">countNodes</font><font color="#000000">(((</font><font color="#000000">TrieAutocomplete</font><font color="#000000">)</font><font color="#000000"> auto</font><font color="#000000">).</font><font color="#000000">myRoot</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">" nodes"</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">String</font><font color="#000000"> randomWord </font><font color="#000000">=</font><font color="#000000"> </font><font color="#0000ff">""</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">while</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">randomWord</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">&lt;=</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000">)</font>
<font color="#000000">			randomWord </font><font color="#000000">=</font><font color="#000000"> terms</font><font color="#000000">[</font><font color="#000000">ourRandom</font><font color="#000000">.</font><font color="#000000">nextInt</font><font color="#000000">(</font><font color="#000000">terms</font><font color="#000000">.</font><font color="#000000">length</font><font color="#000000">)];</font>
<font color="#000000">		</font><font color="#000000">String</font><font color="#000000"> randomPrefix1 </font><font color="#000000">=</font><font color="#000000"> randomWord</font><font color="#000000">.</font><font color="#000000">substring</font><font color="#000000">(</font><font color="#000000">0</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">1</font><font color="#000000">);</font>
<font color="#000000">		</font><font color="#000000">String</font><font color="#000000"> randomPrefix2 </font><font color="#000000">=</font><font color="#000000"> randomWord</font><font color="#000000">.</font><font color="#000000">substring</font><font color="#000000">(</font><font color="#000000">0</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">2</font><font color="#000000">);</font>
<font color="#000000">		String</font><font color="#000000">[]</font><font color="#000000"> queries </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">{</font><font color="#000000"> </font><font color="#0000ff">""</font><font color="#000000">,</font><font color="#000000"> randomWord</font><font color="#000000">,</font><font color="#000000"> randomPrefix1</font><font color="#000000">,</font><font color="#000000"> randomPrefix2</font><font color="#000000">,</font><font color="#000000"> </font><font color="#0000ff">"notarealword"</font><font color="#000000"> </font><font color="#000000">}</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">int</font></b><font color="#000000"> trial</font><font color="#000000">;</font>
<font color="#000000">		</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000"> query </font><font color="#000000">:</font><font color="#000000"> queries</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			startTime </font><font color="#000000">=</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">nanoTime</font><font color="#000000">();</font>
<font color="#000000">			</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">trial </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font><font color="#000000"> trial </font><font color="#000000">&lt;</font><font color="#000000"> </font><font color="#000000">1000</font><font color="#000000">;</font><font color="#000000"> trial</font><font color="#000000">++)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				auto</font><font color="#000000">.</font><font color="#000000">topMatch</font><font color="#000000">(</font><font color="#000000">query</font><font color="#000000">);</font>
<font color="#000000">				</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">System</font><font color="#000000">.</font><font color="#000000">nanoTime</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> startTime </font><font color="#000000">&gt;</font><font color="#000000"> </font><font color="#000000">5E9</font><font color="#000000">)</font>
<font color="#000000">					</font><b><font color="#7f0055">break</font></b><font color="#000000">;</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">			System</font><font color="#000000">.</font><font color="#000000">out</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font>
<font color="#000000">					</font><font color="#0000ff">"Time for topMatch(</font><font color="#0000ff">\"</font><font color="#0000ff">"</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> query </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">"</font><font color="#0000ff">\"</font><font color="#0000ff">) - "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">System</font><font color="#000000">.</font><font color="#000000">nanoTime</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> startTime</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">1E9</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> trial</font><font color="#000000">));</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">		</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">String</font><font color="#000000"> query </font><font color="#000000">:</font><font color="#000000"> queries</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">			</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><b><font color="#7f0055">int</font></b><font color="#000000"> k </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">1</font><font color="#000000">;</font><font color="#000000"> k </font><font color="#000000">&lt;=</font><font color="#000000"> </font><font color="#000000">7</font><font color="#000000">;</font><font color="#000000"> k </font><font color="#000000">+=</font><font color="#000000"> </font><font color="#000000">3</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">				startTime </font><font color="#000000">=</font><font color="#000000"> System</font><font color="#000000">.</font><font color="#000000">nanoTime</font><font color="#000000">();</font>
<font color="#000000">				</font><b><font color="#7f0055">for</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">trial </font><font color="#000000">=</font><font color="#000000"> </font><font color="#000000">0</font><font color="#000000">;</font><font color="#000000"> trial </font><font color="#000000">&lt;</font><font color="#000000"> </font><font color="#000000">1000</font><font color="#000000">;</font><font color="#000000"> trial</font><font color="#000000">++)</font><font color="#000000"> </font><font color="#000000">{</font>
<font color="#000000">					auto</font><font color="#000000">.</font><font color="#000000">topKMatches</font><font color="#000000">(</font><font color="#000000">query</font><font color="#000000">,</font><font color="#000000"> </font><font color="#000000">3</font><font color="#000000">);</font>
<font color="#000000">					</font><b><font color="#7f0055">if</font></b><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">System</font><font color="#000000">.</font><font color="#000000">nanoTime</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> startTime </font><font color="#000000">&gt;</font><font color="#000000"> </font><font color="#000000">5E9</font><font color="#000000">)</font>
<font color="#000000">						</font><b><font color="#7f0055">break</font></b><font color="#000000">;</font>
<font color="#000000">				</font><font color="#000000">}</font>
<font color="#000000">				System</font><font color="#000000">.</font><font color="#000000">out</font><font color="#000000">.</font><font color="#000000">println</font><font color="#000000">(</font><font color="#0000ff">"Time for topKMatches(</font><font color="#0000ff">\"</font><font color="#0000ff">"</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> query </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">"</font><font color="#0000ff">\"</font><font color="#0000ff">, "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> k </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">")"</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">" - "</font><font color="#000000"> </font><font color="#000000">+</font><font color="#000000"> </font><font color="#0000ff">" "</font>
<font color="#000000">						</font><font color="#000000">+</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">System</font><font color="#000000">.</font><font color="#000000">nanoTime</font><font color="#000000">()</font><font color="#000000"> </font><font color="#000000">-</font><font color="#000000"> startTime</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">/</font><font color="#000000"> </font><font color="#000000">(</font><font color="#000000">1E9</font><font color="#000000"> </font><font color="#000000">*</font><font color="#000000"> trial</font><font color="#000000">));</font>
<font color="#000000">			</font><font color="#000000">}</font>
<font color="#000000">		</font><font color="#000000">}</font>
<font color="#000000">	</font><font color="#000000">}</font>
<font color="#000000">}</font>
</tt></pre>
</body>
</html>
